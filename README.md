

# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ Telegram-–±–æ—Ç–∞ "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ—ç–Ω—Ç–µ–∑–∏–π–Ω–æ–º –º–∏—Ä–µ"

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, —Å–º—ã—Å–ª—ã –∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–≥—Ä—ã, —á—Ç–æ–±—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Telegram-–±–æ—Ç–∞ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ —Å –∫–æ–¥–æ–º –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `bot.py`).

## 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞

–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã –≤ Telegram. –û–Ω –∑–∞–¥–∞–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `main()` –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞.

### –ì–¥–µ –º–µ–Ω—è—Ç—å:
–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `main()`:
```python
token = '–°–Æ–î–ê –¢–û–ö–ï–ù –ë–û–¢–ê'
```

### –ö–∞–∫ –º–µ–Ω—è—Ç—å:
1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç **@BotFather** –≤ Telegram.
2. –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `'–°–Æ–î–ê –¢–û–ö–ï–ù –ë–û–¢–ê'` –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```python
   token = '1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789'
   ```

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, —Ç–∞–∫ –∫–∞–∫ –µ–≥–æ —É—Ç–µ—á–∫–∞ –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞–º —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞—à–∏–º –±–æ—Ç–æ–º.
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö.

## 2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ –∏ –∑–Ω–∞—á–µ–Ω–∏–π

–ò–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–ª–æ–≤–∞—Ä—è—Ö –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –∏—Ö, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–ª–∞–Ω—Å, –ø—Ä–µ–¥–º–µ—Ç—ã, –º–æ–Ω—Å—Ç—Ä–æ–≤, –ª–æ–∫–∞—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã.

### 2.1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

#### –ü—Ä–µ–¥–º–µ—Ç—ã (`item_weights`, `item_effects`, `weapons`, `clothes`, `potions`, `pets`)
- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  - `item_weights` ‚Äî –∑–∞–¥–∞–µ—Ç –≤–µ—Å –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –≤–ª–∏—è—é—â–∏–π –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.
  - `item_effects` ‚Äî –∑–∞–¥–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–æ–Ω—É—Å—ã –∫ –∞—Ç–∞–∫–µ –∏–ª–∏ –∑–∞—â–∏—Ç–µ).
  - `weapons`, `clothes`, `potions`, `pets` ‚Äî —Å–ª–æ–≤–∞—Ä–∏ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –æ—Ä—É–∂–∏—è, –æ–¥–µ–∂–¥—ã, –∑–µ–ª–∏–π –∏ –ø–∏—Ç–æ–º—Ü–µ–≤.

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
  –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ—Ä—É–∂–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, "–ú–∞–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–ø–æ—Ä", –¥–æ–±–∞–≤—å—Ç–µ –≤ —Å–ª–æ–≤–∞—Ä—å `weapons`:
  ```python
  weapons.update({
      '–ú–∞–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–ø–æ—Ä': {
          'attack_bonus': random.randint(6, 12),
          'description': '–ú–æ—â–Ω—ã–π —Ç–æ–ø–æ—Ä —Å –º–∞–≥–∏—á–µ—Å–∫–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏.',
          'type': 'weapon',
          'weight': 7
      }
  })
  ```
  –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ –≤–µ—Å –≤ `item_weights`:
  ```python
  item_weights['–ú–∞–≥–∏—á–µ—Å–∫–∏–π —Ç–æ–ø–æ—Ä'] = 7
  ```

- **–ü—Ä–∏–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è**:
  –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–æ–ª—å—á—É–≥–∞", —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ –∏–∑ —Å–ª–æ–≤–∞—Ä–µ–π:
  ```python
  del clothes['–ö–æ–ª—å—á—É–≥–∞']
  del item_weights['–ö–æ–ª—å—á—É–≥–∞']
  ```

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è.
  - –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞—Ä–∏ (`item_weights`, `item_effects`), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫.

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (`MAX_ITEMS`, `MAX_WEIGHT`)
- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  ```python
  MAX_ITEMS = 10  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
  MAX_WEIGHT = 50  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π –≤–µ—Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
  ```
- **–ö–∞–∫ –º–µ–Ω—è—Ç—å**:
  –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å –ª–∏–º–∏—Ç—ã:
  ```python
  MAX_ITEMS = 15  # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ –¥–æ 15
  MAX_WEIGHT = 75  # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–∞ –¥–æ 75
  ```

### 2.2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–Ω—Å—Ç—Ä–æ–≤

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –°–ª–æ–≤–∞—Ä—å `monsters` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –º–æ–Ω—Å—Ç—Ä–æ–≤.

- **–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–Ω—Å—Ç—Ä–∞**:
  –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –º–æ–Ω—Å—Ç—Ä–∞ "–í–æ–ª–∫":
  ```python
  monsters['üê∫ –í–æ–ª–∫'] = {
      'base_health': 45,
      'base_attack': 7,
      'description': 'üê∫ –ë—ã—Å—Ç—Ä—ã–π —Ö–∏—â–Ω–∏–∫, –æ–±–∏—Ç–∞—é—â–∏–π –≤ –ª–µ—Å–∞—Ö.'
  }
  ```

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫**:
  –ß—Ç–æ–±—ã —É—Å–∏–ª–∏—Ç—å "–î—Ä–∞–∫–æ–Ω–∞":
  ```python
  monsters['üêâ –î—Ä–∞–∫–æ–Ω']['base_health'] = 150
  monsters['üêâ –î—Ä–∞–∫–æ–Ω']['base_attack'] = 25
  ```

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã —Å —É—Ä–æ–≤–Ω–µ–º –∏–≥—Ä–æ–∫–∞ (—Å–º. —Ñ—É–Ω–∫—Ü–∏—é `generate_monster`).
  - –§—É–Ω–∫—Ü–∏—è `generate_monster` –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∫ –±–∞–∑–æ–≤—ã–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞.

### 2.3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–π

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –°–ø–∏—Å–æ–∫ `locations` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏.

- **–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–∏**:
  ```python
  locations.append('üåå –ó–≤–µ–∑–¥–Ω–∞—è –¥–æ–ª–∏–Ω–∞')
  ```

- **–ü—Ä–∏–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è –ª–æ–∫–∞—Ü–∏–∏**:
  ```python
  locations.remove('üèúÔ∏è –ü—É—Å—Ç—ã–Ω—è')
  ```

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
  - –õ–æ–∫–∞—Ü–∏–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É `/explore`, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –ª–æ–∫–∞—Ü–∏—é.
  - –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–µ –ª–æ–∫–∞—Ü–∏–∏, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –∏–º–µ—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–º–æ–¥–∑–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è.

### 2.4. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤ –∏ –º–∏—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

#### –¢—É—Ä–Ω–∏—Ä—ã (`tournaments`, `create_tournament`)
- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –§—É–Ω–∫—Ü–∏—è `create_tournament` –∑–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—É—Ä–Ω–∏—Ä–æ–≤.
  ```python
  def create_tournament():
      tournament = {
          'name': f"–¢—É—Ä–Ω–∏—Ä #{len(tournaments) + 1}",
          'start_time': datetime.now(),
          'end_time': datetime.now() + timedelta(hours=1),
          'participants': [],
          'winner': None,
          'active': True
      }
      tournaments.append(tournament)
      return tournament
  ```

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
  –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—É—Ä–Ω–∏—Ä–∞ –Ω–∞ 2 —á–∞—Å–∞:
  ```python
  'end_time': datetime.now() + timedelta(hours=2)
  ```
  –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ:
  ```python
  'name': f"–í–µ–ª–∏–∫–∏–π —Ç—É—Ä–Ω–∏—Ä #{len(tournaments) + 1}"
  ```

- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å —Ç—É—Ä–Ω–∏—Ä–æ–≤**:
  –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –∑–∞–¥–∞–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `main()`:
  ```python
  job_queue.run_repeating(tournament_scheduler, interval=3600, first=10)
  ```
  –ò–∑–º–µ–Ω–∏—Ç–µ `interval` (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Ç—É—Ä–Ω–∏—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  ```python
  job_queue.run_repeating(tournament_scheduler, interval=7200, first=10)  # –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
  ```

#### –ú–∏—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è (`world_events`, `create_world_event`)
- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –§—É–Ω–∫—Ü–∏—è `create_world_event` –∑–∞–¥–∞–µ—Ç —Ç–∏–ø—ã –º–∏—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π:
  ```python
  def create_world_event():
      events = [
          "üåã –ò–∑–≤–µ—Ä–∂–µ–Ω–∏–µ –≤—É–ª–∫–∞–Ω–∞! –í—Å–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —É—Ä–æ–Ω.",
          "üåßÔ∏è –ù–∞—á–∞–ª—Å—è —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å. –í—Å–µ –∏–≥—Ä–æ–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ.",
          "üêâ –î—Ä–∞–∫–æ–Ω –ø–æ—è–≤–∏–ª—Å—è –≤ –º–∏—Ä–µ! –í—Å–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –±–æ–Ω—É—Å –∫ –∞—Ç–∞–∫–µ.",
          "üå™Ô∏è –ù–∞—á–∞–ª–∞—Å—å –±—É—Ä—è! –í—Å–µ –∏–≥—Ä–æ–∫–∏ —Ç–µ—Ä—è—é—Ç –ø—Ä–µ–¥–º–µ—Ç—ã –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è."
      ]
      event = random.choice(events)
      world_events.append({
          'event': event,
          'time': datetime.now()
      })
      return event
  ```

- **–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è**:
  ```python
  events.append("üå† –ü–∞–¥–µ–Ω–∏–µ –º–µ—Ç–µ–æ—Ä–∏—Ç–∞! –ò–≥—Ä–æ–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç —Ä–µ–¥–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã.")
  ```

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞**:
  –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –∫ —Å–æ–±—ã—Ç–∏—é, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `apply_world_event_effect`:
  ```python
  def apply_world_event_effect(user_id: int, event: dict):
      if "–∞—Ç–∞–∫–∞" in event['event']:
          players[user_id]['attack'] *= 1.5  # –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∞—Ç–∞–∫–∏ –Ω–∞ 50%
      elif "–∑–¥–æ—Ä–æ–≤—å–µ" in event['event']:
          players[user_id]['health'] = min(
              players[user_id]['max_health'],
              players[user_id]['health'] * 1.5
          )
      elif "–º–µ—Ç–µ–æ—Ä–∏—Ç" in event['event']:
          players[user_id]['inventory'].append('–†–µ–¥–∫–∏–π –∫—Ä–∏—Å—Ç–∞–ª–ª')
  ```

- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π**:
  –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –∑–∞–¥–∞–µ—Ç—Å—è –≤ `main()`:
  ```python
  job_queue.run_repeating(world_event_scheduler, interval=600, first=5)
  ```
  –ò–∑–º–µ–Ω–∏—Ç–µ `interval` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã —Å–æ–±—ã—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1200` –¥–ª—è –∫–∞–∂–¥—ã—Ö 20 –º–∏–Ω—É—Ç).

### 2.5. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏–≥—Ä–æ–∫–∞

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –§—É–Ω–∫—Ü–∏—è `init_player` –∑–∞–¥–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–∞:
  ```python
  def init_player(user_id: int, name: str):
      players[user_id] = {
          'name': name,
          'level': 1,
          'health': 100,
          'max_health': 100,
          'attack': 10,
          'defense': 5,
          'gold': 100,
          'location': '–î–µ—Ä–µ–≤–Ω—è',
          'inventory': [],
          'inventory_weight': 0,
          'equipped': {
              'weapon': None,
              'armor': None
          },
          'active_buffs': {},
          'stats': {
              'monsters_killed': 0,
              'damage_dealt': 0,
              'quests_completed': 0
          },
          'last_active': datetime.now(),
          'pet': None,
          'current_monster': None,
          'experience': 0,
          'experience_to_next_level': 100,
          'inventory_weight': 0
      }
  ```

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
  –ß—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –∑–æ–ª–æ—Ç–æ:
  ```python
  'health': 150,
  'max_health': 150,
  'gold': 200
  ```

### 2.6. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –±–æ—è

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –§—É–Ω–∫—Ü–∏–∏ `calculate_damage` –∏ `battle_cycle` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –º–µ—Ö–∞–Ω–∏–∫—É –±–æ—è.

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Ä–æ–Ω–∞**:
  –ß—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —É—Ä–æ–Ω–∞:
  ```python
  async def calculate_damage(attacker, defender):
      base_attack = attacker.get('attack', 0)
      if attacker.get('equipped', {}).get('weapon'):
          weapon = weapons[attacker['equipped']['weapon']]
          base_attack += random.randint(*weapon['attack_bonus'])
      
      defense = defender.get('defense', 0)
      damage = max(1, base_attack - defense + random.randint(-5, 5))  # –ò–∑–º–µ–Ω–µ–Ω–æ —Å (-2, 2)
      return damage
  ```

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –¥–µ–ª–∞—é—Ç –±–æ–∏ —Å–ª–∏—à–∫–æ–º –ª–µ–≥–∫–∏–º–∏ –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–º–∏.
  - –§—É–Ω–∫—Ü–∏—è `battle_cycle` —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–º –±–æ–µ–º, –≥–¥–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–¥–∞—Ä—ã).

### 2.7. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–∏–ª—å–¥–∏–π

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –°–ª–æ–≤–∞—Ä—å `guilds` –∏ —Ñ—É–Ω–∫—Ü–∏–∏ `create_guild`, `join_guild`, `guild_info` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –º–µ—Ö–∞–Ω–∏–∫—É –≥–∏–ª—å–¥–∏–π.

- **–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≥–∏–ª—å–¥–∏–∏**:
  –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é –≥–∏–ª—å–¥–∏–∏:
  ```python
  guilds[guild_name] = {
      'leader': user_id,
      'members': [user_id],
      'created_at': datetime.now(),
      'level': 1,
      'reputation': 100  # –ù–æ–≤–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞
  }
  ```

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π —Å–æ–∑–¥–∞–Ω–∏—è**:
  –ß—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏ –ø–æ —É—Ä–æ–≤–Ω—é –∏–≥—Ä–æ–∫–∞:
  ```python
  async def create_guild(update: Update, context: CallbackContext, guild_name: str):
      user_id = update.message.from_user.id
      player = players.get(user_id)
      
      if not player:
          await update.message.reply_text("‚ùå –ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–µ –Ω–∞–π–¥–µ–Ω!")
          return

      if player['level'] < 5:  # –¢—Ä–µ–±—É–µ—Ç—Å—è 5 —É—Ä–æ–≤–µ–Ω—å
          await update.message.reply_text("‚ùå –ù—É–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å 5 —É—Ä–æ–≤–Ω—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–ª—å–¥–∏–∏!")
          return
  ```

## 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

–¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –∏–≥—Ä–æ–∫–∞–º, –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ `start`, `status`, `fight`, –∏ –¥—Ä—É–≥–∏—Ö. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–Ω–∞, —Å—Ç–∏–ª—è –∏–ª–∏ —è–∑—ã–∫–∞.

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
  –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
  ```python
  async def start(update: Update, context: CallbackContext):
      await update.message.reply_text("üåü –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —ç–ø–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ! –°–æ–∑–¥–∞–π –≥–µ—Ä–æ—è —Å –ø–æ–º–æ—â—å—é /create!")
      await main_menu(update, context)
  ```

## 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- **–ì–¥–µ –º–µ–Ω—è—Ç—å**:
  –§—É–Ω–∫—Ü–∏–∏ `save_game` –∏ `load_game` —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏ –≥–∏–ª—å–¥–∏–π –≤ —Ñ–∞–π–ª—ã `players.json` –∏ `guilds.json`.

- **–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—É—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**:
  ```python
  def save_game():
      with open('game_data/players.json', 'w') as f:
          json.dump(players, f)
      with open('game_data/guilds.json', 'w') as f:
          json.dump(guilds, f)
  ```

- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
  - –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ JSON –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ `save_game` –∏ `load_game` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ.

## 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
   ```bash
   pip install python-telegram-bot
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ:
   ```bash
   python bot.py
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ Telegram.
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏ (`logging`) –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –æ—à–∏–±–æ–∫:
   ```python
   logger.error(f"–û—à–∏–±–∫–∞: {str(e)}")
   ```

## 6. –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Heroku, VPS):
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è):
   ```python
   import os
   token = os.getenv('BOT_TOKEN')
   ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   ```bash
   pip install -r requirements.txt
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `systemd`).

## 7. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö**:
  –ü–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–æ–≤ `players.json` –∏ `guilds.json`.
- **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞**:
  –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω—ã–µ –º–æ–Ω—Å—Ç—Ä—ã –∏–ª–∏ –ø—Ä–µ–¥–º–µ—Ç—ã).
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤.
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:
  –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (`players`, `guilds`) –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `migrate_old_players`:
  ```python
  def migrate_old_players():
      for user_id in list(players.keys()):
          player = players[user_id]
          if 'new_field' not in player:
              player['new_field'] = default_value
  ```

